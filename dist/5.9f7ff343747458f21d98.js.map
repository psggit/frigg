{"version":3,"sources":["webpack:///./src/react-apps/home/container/upload-search-data.js"],"names":["__webpack_require__","_redux","_reactRedux","Actions","UploadSearchData","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","state","message","handleChange","bind","handleUploadClick","handleSubmit","handleIndexSearchData","_react2","default","Component","formData","FormData","append","data","props","actions","uploadSearchData","indexSearchData","fileInput","click","e","setState","file","target","files","name","_this2","createElement","style","width","maxWidth","onClick","className","_iconUtils2","display","ref","node","onChange","type","_RaisedButton2","primary","label","marginLeft","connect","main","dispatch","bindActionCreators"],"mappings":"8ZAAAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,SACAA,EAAA,UACAA,EAAA,MACYG,0JAAZH,EAAA,yDACAA,EAAA,SAEMI,cACJ,SAAAA,iGAAcC,CAAAC,KAAAF,GAAA,IAAAG,mKAAAC,CAAAF,MAAAF,EAAAK,WAAAC,OAAAC,eAAAP,IAAAQ,KAAAN,OAAA,OAEZC,EAAKM,OACHC,QAAS,qBAEXP,EAAKQ,aAAeR,EAAKQ,aAAaC,KAAlBT,GACpBA,EAAKU,kBAAoBV,EAAKU,kBAAkBD,KAAvBT,GACzBA,EAAKW,aAAeX,EAAKW,aAAaF,KAAlBT,GACpBA,EAAKY,sBAAwBZ,EAAKY,sBAAsBH,KAA3BT,GARjBA,qUADea,EAAAC,QAAMC,qDAajC,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQnB,KAAKO,MAAMa,MACnCpB,KAAKqB,MAAMC,QAAQC,iBAAiBN,mDAIpCjB,KAAKqB,MAAMC,QAAQE,8DAInBxB,KAAKyB,UAAUC,6CAGJC,GACX3B,KAAK4B,UAAWpB,QAAS,oBACzB,IAAMqB,EAAOF,EAAEG,OAAOC,MAAM,GAC5B/B,KAAK4B,UACHR,KAAMS,EACNrB,QAASqB,EAAKG,wCAIT,IAAAC,EAAAjC,KACP,OACEc,EAAAC,QAAAmB,cAAA,OAAKC,OACHC,MAAO,OACPC,SAAU,MAGVvB,EAAAC,QAAAmB,cAAA,6BACApB,EAAAC,QAAAmB,cAAA,OACEI,QAAStC,KAAKW,kBACd4B,UAAU,kBAER,EAAAC,EAAAzB,SAAQ,UACVD,EAAAC,QAAAmB,cAAA,SAAKlC,KAAKO,MAAMC,UAElBM,EAAAC,QAAAmB,cAAA,SACEC,OAASM,QAAS,QAClBC,IAAK,SAACC,GAAWV,EAAKR,UAAYkB,GAClCC,SAAU,SAACjB,GAAQM,EAAKxB,aAAakB,IACrCkB,KAAK,SAEP/B,EAAAC,QAAAmB,cAAA,WACApB,EAAAC,QAAAmB,cAAAY,EAAA/B,SACEuB,QAAStC,KAAKY,aACdmC,SAAA,EACAC,MAAM,SAERlC,EAAAC,QAAAmB,cAAAY,EAAA/B,SACEoB,OAASc,WAAY,QACrBX,QAAStC,KAAKa,sBACdkC,SAAA,EACAC,MAAM,+BAaD,EAAApD,EAAAsD,SANS,SAAA3C,GAAA,OAASA,EAAM4C,MAEZ,SAAAC,GAAA,OACzB9B,SAAS,EAAA3B,EAAA0D,oBAAmBxD,EAASuD,KAGxB,CAGbtD","file":"5.9f7ff343747458f21d98.js","sourcesContent":["import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport RaisedButton from 'material-ui/RaisedButton'\nimport getIcon from './../components/icon-utils'\nimport * as Actions from './../actions'\nimport '@sass/components/_file-uploader.scss'\n\nclass UploadSearchData extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      message: 'Choose a csv file'\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleUploadClick = this.handleUploadClick.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleIndexSearchData = this.handleIndexSearchData.bind(this)\n  }\n\n  handleSubmit() {\n    const formData = new FormData()\n    formData.append('data', this.state.data)\n    this.props.actions.uploadSearchData(formData)\n  }\n\n  handleIndexSearchData() {\n    this.props.actions.indexSearchData()\n  }\n\n  handleUploadClick() {\n    this.fileInput.click()\n  }\n\n  handleChange(e) {\n    this.setState({ message: 'Choose csv file' })\n    const file = e.target.files[0]\n    this.setState({\n      data: file,\n      message: file.name\n    })\n  }\n\n  render() {\n    return (\n      <div style={{\n        width: '100%',\n        maxWidth: 900\n      }}\n      >\n        <h3>Upload CSV file</h3>\n        <div\n          onClick={this.handleUploadClick}\n          className='file-uploader'\n        >\n          { getIcon('upload') }\n          <p>{ this.state.message }</p>\n        </div>\n        <input\n          style={{ display: 'none' }}\n          ref={(node) => { this.fileInput = node }}\n          onChange={(e) => { this.handleChange(e) }}\n          type=\"file\"\n        />\n        <br />\n        <RaisedButton\n          onClick={this.handleSubmit}\n          primary\n          label=\"Save\"\n        />\n        <RaisedButton\n          style={{ marginLeft: '20px' }}\n          onClick={this.handleIndexSearchData}\n          primary\n          label=\"Index\"\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => state.main\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch)\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UploadSearchData)\n"],"sourceRoot":""}